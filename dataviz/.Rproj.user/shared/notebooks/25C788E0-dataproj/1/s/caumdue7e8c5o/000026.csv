"0",""
"0","#define a list of years"
"0",""
"0","years <- c(1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013, 2014, 2015, 2016)"
"0",""
"0",""
"0","# Build an empty list to hold the url for each state"
"0",""
"0","year_urls <- list()"
"0",""
"0",""
"0","# Build a list of URLS of zip files to download, with a for loop"
"0",""
"0","for (year in years) {"
"0","    # Cut URL into pieces, this is my last resort. http://maps.roads.maryland.gov/traffictrends/ViewReports.aspx?reportName=HourDistWeekdayByGroup&theYear=2016&format=csv&funccl=1"
"0","    url_start <- ""http://maps.roads.maryland.gov/traffictrends/ViewReports.aspx?reportName=HourDistWeekdayByGroup&theYear="""
"0","    url_end <- ""&format=csv&funccl=1"""
"0","    # Rebuild it with for each state code"
"0","    year_url <- paste0(url_start, year, url_end)"
"0","    # Add to our list of state urls"
"0","    year_urls <- c(year_urls, year_url)"
"0","}"
"0",""
"0","# Pull down raw data for each state, "
"0","for (url in year_urls) {"
"0","    "
"0","    # Get the year code for purpose of creating filenames"
"0","    year_code <- url %>%"
"0","      str_remove(""http://maps.roads.maryland.gov/traffictrends/ViewReports.aspx?reportName=HourDistWeekdayByGroup&theYear="") %>%"
"0","      str_remove(""&format=csv&funccl=1"") %>%"
"0","    file_path <- paste0(""input_data/"", year_code,"".csv"")"
"0","    # Download each state file into our data folder"
"0","    download(url, file_path, mode=""wb"")"
"0","    print(paste0(""Finished downloading "", year_code))"
"0","     temp <- read_tsv(paste0(""input_data/"",state_code,"".tsv""))"
"0","    print(paste0(""Finished reading in raw data "", state_code))"
"0","    # Process the data to end up with a dataframe of total pills per year"
"0","}"
"2","Error in eval(lhs, parent, parent) : object '*tmp*' not found
"
